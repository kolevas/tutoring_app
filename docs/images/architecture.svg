<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="1100" height="520" viewBox="0 0 1100 520">
  <defs>
    <style><![CDATA[
      .title { font: 700 22px/1.2 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, 'Helvetica Neue', Arial, sans-serif; fill: #111827; }
      .label { font: 600 14px/1.3 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, 'Helvetica Neue', Arial, sans-serif; fill: #1f2937; }
      .small { font: 500 12px/1.4 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, 'Helvetica Neue', Arial, sans-serif; fill: #374151; }
      .bg { fill: #f8fafc; }
      .box { fill: #ffffff; stroke: #93c5fd; stroke-width: 2; rx: 10; }
      .core { fill: #eff6ff; stroke: #60a5fa; stroke-width: 2; rx: 10; }
      .db { fill: #ecfeff; stroke: #67e8f9; stroke-width: 2; rx: 10; }
      .arrow { stroke: #2563eb; stroke-width: 2; marker-end: url(#arrowhead); }
      .dashed { stroke-dasharray: 6 6; }
    ]]></style>
    <marker id="arrowhead" markerWidth="8" markerHeight="8" refX="6" refY="3" orient="auto">
      <polygon points="0 0, 6 3, 0 6" fill="#2563eb" />
    </marker>
  </defs>

  <rect class="bg" x="0" y="0" width="1100" height="520"/>
  <text class="title" x="30" y="40">Tutoring App – High-level Architecture</text>

  <!-- Frontend -->
  <rect class="core" x="40" y="90" width="300" height="360"/>
  <text class="label" x="60" y="115">Frontend (Vue 3 + Vite + Vuetify)</text>
  <text class="small" x="60" y="145">• SPA, Vue Router, Pinia</text>
  <text class="small" x="60" y="165">• Axios API client</text>
  <text class="small" x="60" y="185">• Cookies for JWT</text>
  <text class="small" x="60" y="205">• Views: Sessions, Availability, Admin</text>

  <!-- API -->
  <rect class="core" x="400" y="90" width="300" height="360"/>
  <text class="label" x="420" y="115">API (Node.js + Express)</text>
  <text class="small" x="420" y="145">/api/auth – register, login, me</text>
  <text class="small" x="420" y="165">/api/users – admin CRUD, roles</text>
  <text class="small" x="420" y="185">/api/sessions – CRUD, book/cancel</text>
  <text class="small" x="420" y="205">/api/availability – tutor slots</text>
  <text class="small" x="420" y="235">Middleware: helmet, cors, morgan</text>
  <text class="small" x="420" y="255">Auth: protect + authorize(roles)</text>

  <!-- Database -->
  <rect class="db" x="760" y="90" width="300" height="360"/>
  <text class="label" x="780" y="115">Database (MongoDB + Mongoose)</text>
  <text class="small" x="780" y="145">Collections:</text>
  <text class="small" x="800" y="165">• users { role, password(hash) }</text>
  <text class="small" x="800" y="185">• sessions { date, times, status }</text>
  <text class="small" x="800" y="205">• availability { recurring/specific }</text>
  <text class="small" x="780" y="235">Indexes: tutor/date, status/date</text>

  <!-- Arrows -->
  <line class="arrow" x1="340" y1="160" x2="400" y2="160"/>
  <line class="arrow" x1="700" y1="160" x2="760" y2="160"/>

  <!-- JWT flow hint -->
  <rect class="box" x="60" y="280" width="260" height="150"/>
  <text class="small" x="75" y="305">Auth flow (JWT):</text>
  <text class="small" x="75" y="325">1) Login → API (identifier + password)</text>
  <text class="small" x="75" y="345">2) API verifies → issues JWT</text>
  <text class="small" x="75" y="365">3) Frontend stores token (cookie)</text>
  <text class="small" x="75" y="385">4) Subsequent requests with Bearer</text>

  <line class="arrow dashed" x1="320" y1="360" x2="400" y2="360"/>
</svg>
